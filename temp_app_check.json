{"success":true,"content":"// motion is provided globally by the sandbox environment\n// NO IMPORTS - everything is global!\n\n// --- MOCK DATA ---\nconst PRODUCTS = [\n  { id: 1, name: 'Organic Avocado', price: 2.50, image: 'https://images.unsplash.com/photo-1523049673857-eb18f1d7b578?w=400&h=400&q=80&auto=format&fit=crop', category: 'Produce', tags: ['Organic', 'Vegan'], stock: 58 },\n  { id: 2, name: 'Artisan Sourdough Loaf', price: 5.99, image: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=400&q=80&auto=format&fit=crop', category: 'Bakery', tags: ['Vegan'], stock: 24 },\n  { id: 3, name: 'Free-Range Eggs (Dozen)', price: 4.99, image: 'https://images.unsplash.com/photo-1582169296194-e4d644c48063?w=400&h=400&q=80&auto=format&fit=crop', category: 'Dairy & Eggs', tags: [], stock: 105 },\n  { id: 4, name: 'Grass-Fed Ground Beef', price: 8.99, image: 'https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=400&h=400&q=80&auto=format&fit=crop', category: 'Meat', tags: ['Gluten-Free'], stock: 32 },\n  { id: 5, name: 'Organic Strawberries', price: 4.50, image: 'https://images.unsplash.com/photo-1587487125063-a0a6ca4a1f33?w=400&h=400&q=80&auto=format&fit=crop', category: 'Produce', tags: ['Organic', 'Vegan'], stock: 0 },\n  { id: 6, name: 'Almond Milk (Unsweetened)', price: 3.79, image: 'https://images.unsplash.com/photo-1620189507195-68309c04c4d0?w=400&h=400&q=80&auto=format&fit=crop', category: 'Pantry', tags: ['Vegan', 'Gluten-Free', 'Nut-Free'], stock: 77 },\n  { id: 7, name: 'Wild-Caught Salmon Fillet', price: 12.99, image: 'https://images.unsplash.com/photo-1534422298391-e4f8c172dddb?w=400&h=400&q=80&auto=format&fit=crop', category: 'Seafood', tags: ['Gluten-Free'], stock: 15 },\n  { id: 8, name: '30-Min Chicken Parmesan Kit', price: 24.99, image: 'https://images.unsplash.com/photo-1625944230942-5246b8109670?w=400&h=400&q=80&auto=format&fit=crop', category: 'Meal Kits', tags: [], stock: 18 },\n  { id: 9, name: 'Vegan Tofu Scramble Kit', price: 19.99, image: 'https://images.unsplash.com/photo-1626202157923-24e793213a58?w=400&h=400&q=80&auto=format&fit=crop', category: 'Meal Kits', tags: ['Vegan', 'Gluten-Free'], stock: 22 },\n  { id: 10, name: 'Weekly Essentials Box', price: 49.99, image: 'https://images.unsplash.com/photo-1534723452862-4c874018d66d?w=400&h=400&q=80&auto=format&fit=crop', category: 'Subscriptions', tags: [], stock: 999 },\n];\n\nconst PAST_ORDERS = [\n    { id: 'PO123', date: '1 week ago', items: [PRODUCTS[0], PRODUCTS[2], PRODUCTS[3]] },\n    { id: 'PO124', date: '2 weeks ago', items: [PRODUCTS[1], PRODUCTS[5], PRODUCTS[6]] }\n];\n\n// --- CONTEXTS ---\nconst CartContext = React.createContext(null);\nconst useCart = () => React.useContext(CartContext);\n\nconst NotificationContext = React.createContext(null);\nconst useNotification = () => React.useContext(NotificationContext);\n\n// --- HELPER COMPONENTS ---\nconst CartModal = ({ isOpen, onClose }) => {\n  const { cart, removeFromCart, updateQuantity, clearCart } = useCart();\n  const navigate = useNavigate();\n\n  const subtotal = useMemo(() => \n    cart.reduce((sum, item) => sum + item.price * item.quantity, 0),\n    [cart]\n  );\n\n  const recipeSuggestion = useMemo(() => {\n    const itemNames = cart.map(i => i.name.toLowerCase());\n    if (itemNames.includes('grass-fed ground beef') && itemNames.some(n => n.includes('loaf'))) return \"Suggestion: Make burgers tonight!\";\n    if (itemNames.includes('wild-caught salmon fillet') && itemNames.includes('organic avocado')) return \"Suggestion: Try Salmon with Avocado Salsa!\";\n    return null;\n  }, [cart]);\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black/70 z-50 flex justify-end\"\n          onClick={onClose}\n        >\n          <motion.div\n            initial={{ x: '100%' }}\n            animate={{ x: '0%' }}\n            exit={{ x: '100%' }}\n            transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n            className=\"w-full max-w-md h-full bg-black text-white flex flex-col\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex justify-between items-center p-4 border-b border-gray-700\">\n              <h2 className=\"font-bold uppercase text-xl\">YOUR CART</h2>\n              <button onClick={onClose} className=\"p-2 hover:bg-gray-800 rounded-full\"><X className=\"w-6 h-6\" /></button>\n            </div>\n            {cart.length === 0 ? (\n              <div className=\"flex-1 flex flex-col items-center justify-center text-center p-4\">\n                <ShoppingCart className=\"w-16 h-16 text-gray-500 mb-4\" />\n                <h3 className=\"font-bold text-lg\">Your cart is empty.</h3>\n                <p className=\"text-gray-400 mb-6\">Add items to get started.</p>\n                <button onClick={() => { onClose(); navigate('/shop'); }} className=\"bg-yellow-400 text-black px-6 py-3 rounded-lg font-bold uppercase hover:bg-yellow-500 transition-colors\">\n                  Start Shopping\n                </button>\n              </div>\n            ) : (\n              <>\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                  {cart.map(item => (\n                    <div key={item.cartId} className=\"flex gap-4\">\n                      <img src={item.image} alt={item.name} className=\"w-20 h-20 object-cover rounded-md\" />\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-bold\">{item.name}</h3>\n                        <p className=\"text-gray-400\">${item.price.toFixed(2)}</p>\n                        <div className=\"flex items-center gap-2 mt-2\">\n                          <button onClick={() => updateQuantity(item.cartId, item.quantity - 1)} className=\"p-1 border border-gray-600 rounded-full\"><Minus className=\"w-4 h-4\" /></button>\n                          <span>{item.quantity}</span>\n                          <button onClick={() => updateQuantity(item.cartId, item.quantity + 1)} className=\"p-1 border border-gray-600 rounded-full\"><Plus className=\"w-4 h-4\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"flex flex-col items-end justify-between\">\n                        <p className=\"font-bold\">${(item.price * item.quantity).toFixed(2)}</p>\n                        <button onClick={() => removeFromCart(item.cartId)} className=\"text-gray-500 hover:text-red-500\"><Trash2 className=\"w-5 h-5\" /></button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"p-4 border-t border-gray-700 space-y-4\">\n                  {recipeSuggestion && (\n                    <div className=\"p-3 bg-gray-800 rounded-lg text-center text-yellow-400\">\n                      <p className=\"font-semibold\">{recipeSuggestion}</p>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between font-bold text-lg\">\n                    <span>SUBTOTAL</span>\n                    <span>${subtotal.toFixed(2)}</span>\n                  </div>\n                  <button onClick={() => { onClose(); navigate('/checkout'); }} className=\"w-full bg-yellow-400 text-black px-6 py-4 rounded-lg font-bold uppercase hover:bg-yellow-500 transition-colors\">\n                    PROCEED TO CHECKOUT\n                  </button>\n                </div>\n              </>\n            )}\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\n// --- PAGE COMPONENTS ---\nconst HomePage = () => {\n  const navigate = useNavigate();\n  return (\n    <div className=\"min-h-screen bg-black text-white overflow-hidden\">\n      <div className=\"p-2 h-screen\">\n        <div className=\"grid grid-cols-6 grid-rows-4 gap-2 h-full\">\n          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }} className=\"bg-red-500 col-span-2 row-span-2 rounded-lg\"></motion.div>\n          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }} className=\"bg-[#06b6d4] col-span-3 row-span-1 rounded-lg\"></motion.div>\n          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.4 }} className=\"bg-yellow-400 col-span-1 row-span-3 rounded-lg\"></motion.div>\n          \n          <div className=\"col-span-3 row-span-3 col-start-3 row-start-2 bg-black p-8 flex flex-col justify-center\">\n            <motion.h1 \n              initial={{ opacity: 0, y: 20 }} \n              animate={{ opacity: 1, y: 0 }} \n              transition={{ delay: 0.5 }}\n              className=\"text-5xl md:text-6xl font-black uppercase tracking-wider font-['Poppins']\"\n            >\n              Quality Groceries\n              <br />\n              <span className=\"text-yellow-400\">For Modern Life.</span>\n            </motion.h1>\n            <motion.p \n              initial={{ opacity: 0, y: 20 }} \n              animate={{ opacity: 1, y: 0 }} \n              transition={{ delay: 0.6 }}\n              className=\"mt-6 text-lg text-gray-400 max-w-md\"\n            >\n              Curated essentials, meal kits, and fresh produce delivered on your schedule. Stop planning, start living.\n            </motion.p>\n            <motion.div \n              initial={{ opacity: 0, y: 20 }} \n              animate={{ opacity: 1, y: 0 }} \n              transition={{ delay: 0.7 }}\n              className=\"mt-10\"\n            >\n              <button \n                onClick={() => navigate('/shop')}\n                className=\"bg-white text-black px-10 py-4 rounded-lg font-bold uppercase hover:bg-gray-200 transition-colors transform hover:scale-105\"\n              >\n                Shop Now\n              </button>\n            </motion.div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ShopPage = () => {\n  const { addToCart } = useCart();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeFilters, setActiveFilters] = useState([]);\n  const dietaryFilters = ['Vegan', 'Gluten-Free', 'Organic', 'Nut-Free'];\n\n  const toggleFilter = (filter) => {\n    setActiveFilters(prev => \n      prev.includes(filter) ? prev.filter(f => f !== filter) : [...prev, filter]\n    );\n  };\n\n  const filteredProducts = useMemo(() => {\n    return PRODUCTS.filter(p => {\n      const matchesSearch = p.name.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesFilters = activeFilters.every(filter => p.tags.includes(filter));\n      return matchesSearch && matchesFilters;\n    });\n  }, [searchQuery, activeFilters]);\n\n  return (\n    <div className=\"bg-black text-white min-h-screen p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className=\"text-4xl font-black uppercase tracking-wider font-['Poppins'] mb-4\">Shop Groceries</h1>\n        <div className=\"flex flex-col md:flex-row gap-4 mb-8\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search for products...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-12 pr-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n            />\n          </div>\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            {dietaryFilters.map(filter => (\n              <button\n                key={filter}\n                onClick={() => toggleFilter(filter)}\n                className={cn(\n                  \"px-4 py-2 rounded-full font-bold uppercase text-sm transition-colors\",\n                  activeFilters.includes(filter) \n                    ? 'bg-yellow-400 text-black' \n                    : 'bg-gray-800 text-gray-300 hover:bg-gray-700'\n                )}\n              >\n                {filter}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {filteredProducts.map(product => (\n            <motion.div \n              key={product.id} \n              className=\"bg-gray-900 rounded-lg overflow-hidden flex flex-col\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.3 }}\n            >\n              <div className=\"relative\">\n                <img src={product.image} alt={product.name} className=\"w-full h-48 object-cover\" />\n                <div className=\"absolute top-2 left-2 flex gap-1\">\n                  {product.tags.map(tag => (\n                    <span key={tag} className=\"px-2 py-1 bg-black/50 text-white text-xs font-bold uppercase rounded\">{tag}</span>\n                  ))}\n                </div>\n              </div>\n              <div className=\"p-4 flex flex-col flex-1\">\n                <h3 className=\"font-bold text-lg\">{product.name}</h3>\n                <p className=\"text-gray-400 text-sm mt-1\">In Stock: {product.stock}</p>\n                <div className=\"flex-1\"></div>\n                <div className=\"flex justify-between items-center mt-4\">\n                  <span className=\"text-2xl font-black text-yellow-400\">${product.price.toFixed(2)}</span>\n                  <button \n                    onClick={() => addToCart(product)}\n                    disabled={product.stock === 0}\n                    className=\"bg-white text-black p-3 rounded-full font-bold uppercase hover:bg-gray-200 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {product.stock > 0 ? <Plus className=\"w-5 h-5\" /> : <X className=\"w-5 h-5\" />}\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst AccountPage = () => {\n    const { addToCart } = useCart();\n    const showNotification = useNotification();\n\n    const handleReorder = (order) => {\n        order.items.forEach(item => addToCart(item));\n        showNotification(`Reordered items from order ${order.id}!`, 'success');\n    };\n\n    return (\n        <div className=\"bg-black text-white min-h-screen p-8\">\n            <div className=\"max-w-4xl mx-auto\">\n                <h1 className=\"text-4xl font-black uppercase tracking-wider font-['Poppins'] mb-8\">My Account</h1>\n                <div className=\"bg-gray-900 p-6 rounded-lg\">\n                    <h2 className=\"text-2xl font-bold uppercase text-yellow-400 mb-4\">One-Click Reorder</h2>\n                    <p className=\"text-gray-400 mb-6\">Quickly add all items from a past purchase to your cart.</p>\n                    <div className=\"space-y-4\">\n                        {PAST_ORDERS.map(order => (\n                            <div key={order.id} className=\"flex justify-between items-center bg-gray-800 p-4 rounded-md\">\n                                <div>\n                                    <p className=\"font-bold\">Order {order.id}</p>\n                                    <p className=\"text-sm text-gray-500\">{order.date}</p>\n                                </div>\n                                <button \n                                    onClick={() => handleReorder(order)}\n                                    className=\"bg-white text-black px-6 py-2 rounded-lg font-bold uppercase hover:bg-gray-200 transition-colors\"\n                                >\n                                    Reorder All\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst CheckoutPage = () => {\n    const { cart, clearCart } = useCart();\n    const navigate = useNavigate();\n    const showNotification = useNotification();\n    const [deliverySlot, setDeliverySlot] = useState('');\n\n    const subtotal = useMemo(() => \n        cart.reduce((sum, item) => sum + item.price * item.quantity, 0),\n        [cart]\n    );\n\n    const handlePlaceOrder = () => {\n        if (!deliverySlot) {\n            showNotification('Please select a delivery slot.', 'error');\n            return;\n        }\n        showNotification('Order placed successfully!', 'success');\n        clearCart();\n        navigate('/');\n    };\n\n    return (\n        <div className=\"bg-black text-white min-h-screen p-8\">\n            <div className=\"max-w-4xl mx-auto\">\n                <h1 className=\"text-4xl font-black uppercase tracking-wider font-['Poppins'] mb-8\">Checkout</h1>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                    <div className=\"bg-gray-900 p-6 rounded-lg\">\n                        <h2 className=\"text-2xl font-bold uppercase text-yellow-400 mb-4\">1. Delivery Slot</h2>\n                        <p className=\"text-gray-400 mb-4\">Select a 1-hour delivery window.</p>\n                        <select \n                            value={deliverySlot}\n                            onChange={(e) => setDeliverySlot(e.target.value)}\n                            className=\"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg\"\n                        >\n                            <option value=\"\">Choose a time...</option>\n                            <option value=\"today-5-6pm\">Today, 5:00 PM - 6:00 PM</option>\n                            <option value=\"today-6-7pm\">Today, 6:00 PM - 7:00 PM</option>\n                            <option value=\"tomorrow-9-10am\">Tomorrow, 9:00 AM - 10:00 AM</option>\n                        </select>\n                    </div>\n                    <div className=\"bg-gray-900 p-6 rounded-lg\">\n                        <h2 className=\"text-2xl font-bold uppercase text-yellow-400 mb-4\">2. Order Summary</h2>\n                        <div className=\"space-y-2\">\n                            {cart.map(item => (\n                                <div key={item.cartId} className=\"flex justify-between text-sm\">\n                                    <span>{item.name} x {item.quantity}</span>\n                                    <span>${(item.price * item.quantity).toFixed(2)}</span>\n                                </div>\n                            ))}\n                        </div>\n                        <div className=\"border-t border-gray-700 mt-4 pt-4 flex justify-between font-bold text-xl\">\n                            <span>TOTAL</span>\n                            <span>${subtotal.toFixed(2)}</span>\n                        </div>\n                        <button \n                            onClick={handlePlaceOrder}\n                            className=\"mt-6 w-full bg-yellow-400 text-black px-6 py-4 rounded-lg font-bold uppercase hover:bg-yellow-500 transition-colors\"\n                        >\n                            Place Order\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// --- MAIN APP & ROUTER ---\nconst App = () => {\n  const [cart, setCart] = useState([]);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [notification, setNotification] = useState(null);\n  const location = useLocation();\n\n  const showNotification = (message, type = 'success') => {\n    setNotification({ message, type });\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const addToCart = (product) => {\n    if (product.stock === 0) {\n        showNotification(`${product.name} is out of stock.`, 'error');\n        return;\n    }\n    setCart(prev => {\n      const existing = prev.find(item => item.id === product.id);\n      if (existing) {\n        return prev.map(item => item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item);\n      }\n      return [...prev, { ...product, quantity: 1, cartId: Date.now() }];\n    });\n    showNotification(`${product.name} added to cart!`, 'success');\n  };\n\n  const removeFromCart = (cartId) => {\n    setCart(prev => prev.filter(item => item.cartId !== cartId));\n  };\n\n  const updateQuantity = (cartId, quantity) => {\n    if (quantity < 1) {\n      removeFromCart(cartId);\n      return;\n    }\n    setCart(prev => prev.map(item => item.cartId === cartId ? { ...item, quantity } : item));\n  };\n  \n  const clearCart = () => setCart([]);\n\n  const cartContextValue = { cart, addToCart, removeFromCart, updateQuantity, clearCart };\n  const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <CartContext.Provider value={cartContextValue}>\n      <NotificationContext.Provider value={showNotification}>\n        <div className=\"font-['Poppins']\">\n          <header className=\"fixed top-0 left-0 right-0 z-40 p-4\">\n            <nav className=\"max-w-7xl mx-auto flex justify-between items-center bg-black/50 backdrop-blur-sm p-3 rounded-lg border border-gray-800\">\n              <Link to=\"/\" className=\"text-white font-black text-xl uppercase\">PROVIDE</Link>\n              <div className=\"flex items-center gap-4\">\n                <NavLink to=\"/shop\" className={({isActive}) => `font-bold uppercase text-sm ${isActive ? 'text-yellow-400' : 'text-white'} hover:text-yellow-400`}>Shop</NavLink>\n                <NavLink to=\"/account\" className={({isActive}) => `font-bold uppercase text-sm ${isActive ? 'text-yellow-400' : 'text-white'} hover:text-yellow-400`}>Account</NavLink>\n                <button onClick={() => setIsCartOpen(true)} className=\"relative text-white p-2\">\n                  <ShoppingCart className=\"w-6 h-6\" />\n                  {cartCount > 0 && (\n                    <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold\">{cartCount}</span>\n                  )}\n                </button>\n              </div>\n            </nav>\n          </header>\n\n          <main>\n            <Routes>\n              <Route path=\"/\" element={<HomePage />} />\n              <Route path=\"/shop\" element={<ShopPage />} />\n              <Route path=\"/account\" element={<AccountPage />} />\n              <Route path=\"/checkout\" element={<CheckoutPage />} />\n            </Routes>\n          </main>\n\n          <CartModal isOpen={isCartOpen} onClose={() => setIsCartOpen(false)} />\n\n          <AnimatePresence>\n            {notification && (\n              <motion.div\n                initial={{ opacity: 0, y: 50, scale: 0.3 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.5, transition: { duration: 0.2 } }}\n                className={cn(\n                  \"fixed bottom-5 right-5 p-4 rounded-lg shadow-lg text-white font-bold z-50\",\n                  notification.type === 'success' ? 'bg-green-500' : 'bg-red-500'\n                )}\n              >\n                {notification.message}\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </NotificationContext.Provider>\n    </CartContext.Provider>\n  );\n};\n\nconst AppWrapper = () => (\n  <Router>\n    <App />\n  </Router>\n);\n\nexport default App;","file_path":"frontend/src/App.jsx","size":23189,"source":"s3"}
